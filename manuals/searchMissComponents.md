# Documentation for script: _searchMissComponents.py_

## Summary
WHen characterizing a multicomponent system in a (meta)genome, often some components will not have good 
matches in the (meta)genome under study. This script takes the functional annotation of the missing 
component and downloads all non-redundant proteins with that annotation from NCBI. Sequences are then BLASTed
against the query (meta)genome and for all significant hits hydropathy plots and Pfam domains are
shown to help the user determine whether the missing component was found.


## Dependencies
The following Python module needs to be available to the script: 

1. **Python 2.X**  
You can download the Python 2 from the [official website](https://www.python.org/). The following
modules are required:  
  a) Biopython 1.75  
  b) pandas 0.24.2  
  c) requests 2.24.0  
  d) formatQuodDomain (part of this distribution)  
  e) hmmscanParser (part of this distribution)  

2. **_blast+ 2.6.0 to 2.10.0_**  
Other versions of blast may require minor adaptations. Visit the
[download site](https://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download).  

3. **_HHMER 3.2.1_**  
You can download this suite of program from its [official site](http://hmmer.org/).  

4. **_quod.py_**  
This program in part of this distribution. Here is the [help](https://gitlab.com/khendarg/hvordan/blob/master/docs/quod.md)
for this program.  

4. **Proteome sequence file**   
File with all sequences in FASTA format of the (meta)genome under study.  


## Command line options
The following options are available:

    -h, --help          show this help message and exit
    
    -ft <genome feature table>, --featuretable <genome feature table>
                        MANDATORY. Path to the feature table file as
                        downloaded from NCBI genome assemblies. This file is
                        used to extract the genomic context of genes and it
                        must be compressed in gzip format.
                        
    -lt, --locus_tag    Flag. If set, the program will use locus_tag
                        accessions to identify proteins in the query genome.
                        Users are responsible for deciding whether RefSeq or
                        locus_tag accessions will be used in the analysis.
                        Default value is RefSeq.
                        
    -ad <directory path>, --address <directory path>
                        Path to the main output directory generated by program
                        getMultCompSystems.pl. This directory will be used to
                        generate links to hydropathy plots for all matches
                        between the query genome and multicomponent systems in
                        TCDB. If not specified, the edges of subnetworks will
                        not be linked to the corresponding hydropathy plots.
                        
    -l <accessions list>, --list <accessions list>
                        Mandatory. List of TC systems or protein accessions or
                        both, in the genome seperated by comma (e.g.,
                        "1.A.30.2.1,dmul_13829").
                        
    -w, --whole         Flag. If set, visualize the whole processed network.
                        This action supersedes any accessions provided with
                        the -l option.
                        
    -o <string>         The name of the subnetwork that will be generated.
                        Default value: isolated_systems.
                        
    -c, --circular      Flag. If set, the replicon structure of the query
                        genome is regarded as circular. This information is
                        used to calculate the distance between pairs of genes.
                        The default setting is: linear.
                        
